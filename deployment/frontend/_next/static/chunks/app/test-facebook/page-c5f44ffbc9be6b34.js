(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{146:function(e,s,l){Promise.resolve().then(l.bind(l,4646))},4646:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return r}});var a=l(7437),c=l(2265);function r(){let[e,s]=(0,c.useState)(!1),[l,r]=(0,c.useState)(null),n=async()=>{s(!0),r(null);try{let e=await fetch("/api/facebook/auth-url",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}});if(e.ok){let s=await e.json();r({success:!0,message:"Facebook integration is working!",authUrl:s.data.authUrl})}else throw Error("Failed to generate auth URL")}catch(e){r({success:!1,message:e instanceof Error?e.message:"Test failed"})}finally{s(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"\uD83E\uDDEA Facebook Integration Test"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Configuration Status:"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-green-500",children:"✅"}),(0,a.jsx)("span",{className:"ml-2",children:"Facebook App ID: 1682481498841723"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-green-500",children:"✅"}),(0,a.jsx)("span",{className:"ml-2",children:"App Secret: Configured"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-green-500",children:"✅"}),(0,a.jsx)("span",{className:"ml-2",children:"Webhook Token: LiveCommerce2024_SecureToken"})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Next Steps:"}),(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-blue-900 mb-2",children:"In your Facebook Developer Console:"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-800",children:[(0,a.jsx)("li",{children:'Add "Webhooks" product'}),(0,a.jsx)("li",{children:'Add "Facebook Login" product'}),(0,a.jsxs)("li",{children:["Set callback URL: ",(0,a.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:"http://localhost:3000/api/facebook/callback"})]}),(0,a.jsxs)("li",{children:["Set webhook URL: ",(0,a.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:"http://localhost:3000/api/facebook/webhooks"})]}),(0,a.jsxs)("li",{children:["Use verify token: ",(0,a.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:"LiveCommerce2024_SecureToken"})]})]})]})]}),(0,a.jsx)("button",{onClick:n,disabled:e,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:e?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Testing..."]}):"\uD83E\uDDEA Test Facebook Connection"}),l&&(0,a.jsxs)("div",{className:"mt-6 p-4 rounded-lg ".concat(l.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,a.jsx)("div",{className:"font-semibold ".concat(l.success?"text-green-800":"text-red-800"),children:l.success?"✅ Success!":"❌ Error"}),(0,a.jsx)("div",{className:l.success?"text-green-700":"text-red-700",children:l.message}),l.authUrl&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("a",{href:l.authUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline",children:"\uD83D\uDD17 Open Facebook OAuth Flow"})})]})]})})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=146)}),_N_E=e.O()}]);